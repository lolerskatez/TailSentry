# TailSentry Docker Environment Configuration
# Copy this file to .env and configure your settings

# ============================================================================
# CORE APPLICATION SETTINGS
# ============================================================================

# Environment (development/production)
TAILSENTRY_ENV=production

# Timezone
TZ=UTC

# Host and port (usually don't need to change for Docker)
HOST=0.0.0.0
PORT=8080

# Debug mode (set to false for production)
DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Session secret key (REQUIRED - generate a secure random string)
# Generate with: openssl rand -hex 32
SESSION_SECRET=

# Admin credentials (REQUIRED)
ADMIN_USERNAME=admin
# Generate password hash with: python -c "from passlib.hash import bcrypt; print(bcrypt.hash('your_password'))"
ADMIN_PASSWORD_HASH=

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30

# Login security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=300

# ============================================================================
# TAILSCALE CONFIGURATION
# ============================================================================

# Tailscale Auth Key (RECOMMENDED for CLI-only mode)
# Get from: https://login.tailscale.com/admin/settings/keys
# Used for device authentication and registration
TAILSCALE_AUTH_KEY=

# Tailscale API Key (Optional - for advanced features)
# Get from: https://login.tailscale.com/admin/settings/keys
# Not required for CLI-only mode (secure mode)
TAILSCALE_API_KEY=

# Your Tailnet name (e.g., yourcompany.com or yourname.gmail.com.beta.tailscale.net)
TAILNET=

# ============================================================================
# NOTIFICATION SETTINGS (Optional)
# ============================================================================

# Email notifications
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=

# Webhook notifications
WEBHOOK_URL=
WEBHOOK_SECRET=

# ============================================================================
# MONITORING SETTINGS (Optional)
# ============================================================================

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ============================================================================
# BACKUP SETTINGS (Optional)
# ============================================================================

# Backup retention
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================================================
# ADVANCED SETTINGS (Usually don't need to change)
# ============================================================================

# Worker settings
WORKERS=1
WORKER_CONNECTIONS=1000

# Request limits
MAX_REQUEST_SIZE=10485760  # 10MB
REQUEST_TIMEOUT=30

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ============================================================================
# DEVELOPMENT SETTINGS (Only for development)
# ============================================================================

# Development mode (enables auto-reload, detailed errors, etc.)
DEV_MODE=false

# Development database (use SQLite for development)
DEV_DATABASE_URL=sqlite:///data/dev.db

# ============================================================================
# EXAMPLES AND NOTES
# ============================================================================

# Example session secret generation:
# docker run --rm python:3.11-slim python -c "import secrets; print(secrets.token_hex(32))"

# Example password hash generation:
# docker run --rm python:3.11-slim python -c "from passlib.hash import bcrypt; print(bcrypt.hash('your_password_here'))"

# Example Tailscale API Access Token (starts with tskey-api-):
# TAILSCALE_API_KEY=tskey-api-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Example Tailnet:
# TAILNET=mycompany.com
# or
# TAILNET=myname.gmail.com.beta.tailscale.net

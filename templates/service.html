{% extends 'base.html' %}
{% block title %}Service Controls - TailSentry{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Service Controls</h1>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow">
    <h2 class="font-semibold mb-2">tailscaled Status</h2>
    <pre class="bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs">{{ status }}</pre>
    <form method="post" action="/service/control" class="flex gap-2 mt-2">
      <button name="action" value="restart" class="px-3 py-1 bg-blue-600 text-white rounded">Restart</button>
      <button name="action" value="stop" class="px-3 py-1 bg-red-600 text-white rounded">Stop</button>
      <button name="action" value="start" class="px-3 py-1 bg-green-600 text-white rounded">Start</button>
    </form>
  </div>
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow">
    <h2 class="font-semibold mb-2">Recent Logs</h2>
    <pre class="bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs max-h-64 overflow-y-auto">{{ logs }}</pre>
  </div>
</div>
{% endblock %}

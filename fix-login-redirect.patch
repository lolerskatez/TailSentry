--- a/routes/user.py
+++ b/routes/user.py
@@ -36,8 +36,11 @@
 def get_current_user(request: Request):
     username = request.session.get("user")
     if username:
-        return get_user(username)
+        user_row = get_user(username)
+        if user_row:
+            # Convert Row to dict for template compatibility
+            return dict(user_row)
     return None
 
 @router.get("/login")
 def login_form(request: Request):
